(this["webpackJsonpsearch-articles"]=this["webpackJsonpsearch-articles"]||[]).push([[0],{45:function(n,e,t){},47:function(n,e,t){},74:function(n,e,t){"use strict";t.r(e);var r=t(0),a=t(12),i=(t(45),t(10)),c=t.n(i),o=t(14),s=t(4),u=t(38),l=t.n(u),d=t.p+"static/media/nyt2.0af8f2fa.jpg",p="(max-width: 376px)",b="(max-width: 415px)",f="(max-width: 815px)",h="(max-width: 1025px)",j="(max-width: 1281px)",g="(max-width: 1441px)",x=t(5),m=(t(47),t(9)),O=t(19),y=t.n(O),w="ARTICLE_DATA",E="SEARCH_ARTICLE_DATA",v="SUBMIT_ENTER",k="BUTTON_ENTER",T="CURRENT_PAGE",A="CURRENT_ARTICLES",R="LOADING",S="TOP_NEWS",C="SUBMIT",M="KEYWORD",N="SNIPPET",_="ERROR_MESSAGE",P="ERROR";function L(n){return{type:T,payload:n}}function D(n){return{type:S,payload:n}}function I(n){return{type:_,payload:n}}function U(n){return{type:P,payload:n}}var B,F,K,z,G,H,J,W,V,X,Y,Z,q,Q,$,nn,en,tn,rn,an,cn,on=t(37),sn=t.n(on),un=t(2),ln=x.a.ul(B||(B=Object(s.a)(["\n  display: flex;\n  flex-direction: column;\n  list-style: none;\n  padding: 0;\n"]))),dn=x.a.section(F||(F=Object(s.a)(["\n  padding: 0 20%;\n  margin-top: 120px;\n\n  @media "," {\n    padding: 0 3%;\n    margin-top: 100px;\n  }\n"])),b),pn=x.a.h3(K||(K=Object(s.a)(["\n  margin: 0;\n"]))),bn=x.a.article(z||(z=Object(s.a)(["\n  padding: 10px;\n"]))),fn=x.a.div(G||(G=Object(s.a)(["\n  display: flex;\n\n  @media "," {\n    flex-direction: column;\n  }\n"])),b),hn=x.a.a(H||(H=Object(s.a)(["\n  align-self: center;\n  text-decoration: none;\n  border: 1px solid #213fb9;\n  padding: 5px;\n  color: #213fb9;\n  transition: background 0.2s ease-out, color 0.2s ease-out;\n\n  &:hover {\n    background-color: #213fb9;\n    color: white;\n  }\n\n  @media "," {\n    width: 100%;\n    text-align: center;\n  }\n"])),b),jn=x.a.div(J||(J=Object(s.a)(["\n  margin-left: 10px;\n  margin-right: 10px;\n  flex: 1 1 0%;\n\n  @media "," {\n    font-size: 11px;\n  }\n"])),f),gn=x.a.aside(W||(W=Object(s.a)(["\n  @media "," {\n    width: 100%;\n  }\n"])),b),xn=x.a.img(V||(V=Object(s.a)(["\n  height: 84px;\n\n  @media "," {\n    width: inherit;\n    object-fit: cover;\n    height: unset;\n  }\n"])),b),mn=x.a.hr(X||(X=Object(s.a)(["\n  width: 100%;\n  border: none;\n  background-color: #cfcfcf;\n  color: #cfcfcf;\n  height: 1px;\n"]))),On=Object(m.b)((function(n){return{currentArticles:n.currentArticles,loading:n.loading,submit:n.submit,topNews:n.topNews}}),(function(n){return{setError:function(e){return n(U(e))},setErrorMsg:function(e){return n(I(e))}}}))((function(n){var e=n.currentArticles,t=n.loading,a=n.submit,i=n.topNews,c=n.setError,o=n.setErrorMsg;if(Object(r.useEffect)((function(){(i||a)&&0===e.length?(c(!0),o("No results are found. Please try different keywords")):(c(!1),o(""))}),[e]),t)return Object(un.jsx)("span",{children:"Loading..."});var s=e.map((function(n){var e=a?n.multimedia[0]:n.media[0];return!a&&e?e["media-metadata"][n.media[0]["media-metadata"].length-1]:a&&e?"https://static01.nyt.com/"+e.url:null}));return Object(un.jsx)(dn,{children:Object(un.jsx)(ln,{children:e.map((function(n,e){return Object(un.jsxs)(r.Fragment,{children:[Object(un.jsx)("li",{children:Object(un.jsx)(bn,{children:Object(un.jsxs)(fn,{children:[s[e]?Object(un.jsx)(gn,{"aria-label":"article-image",children:Object(un.jsx)(xn,{src:a?s[e]:s[e].url})}):Object(un.jsx)(sn.a,{style:{height:84,width:126},"aria-label":"article-no-image"}),Object(un.jsxs)(jn,{children:[Object(un.jsx)(pn,{"aria-label":"article-title",children:a?n.headline.main:n.title}),Object(un.jsx)("p",{"aria-label":"article-abstract",children:n.abstract})]}),Object(un.jsx)(hn,{href:n.url,target:"_blank","aria-label":"article-link",children:"visit to read"})]})})},n.id),Object(un.jsx)(mn,{})]},n.asset_id)}))})})})),yn=x.a.ul(Y||(Y=Object(s.a)(["\n  display: flex;\n  list-style: none;\n  justify-content: center;\n  margin-bottom: 10px;\n  padding: 0;\n"]))),wn=x.a.li(Z||(Z=Object(s.a)(["\n  display: flex;\n  border: 1px solid #213fb9;\n  color: #213fb9;\n  width: 30px;\n  height: 30px;\n  justify-content: center;\n  align-items: center;\n  cursor: pointer;\n\n  transition: background 0.2s ease-out, color 0.2s ease-out;\n\n  &:hover {\n    background-color: #213fb9;\n    color: white;\n  }\n"]))),En=(x.a.a(q||(q=Object(s.a)(["\n  text-decoration: none;\n"]))),Object(m.b)((function(n){return{articles:n.articles}}),(function(n){return{setCurrentPage:function(e){return n(L(e))}}}))((function(n){for(var e=n.articles,t=n.setCurrentPage,r=e.length,a=[],i=1;i<=Math.ceil(r/4);i++)a.push(i);return Object(un.jsx)(yn,{children:a.map((function(n){return Object(un.jsx)(wn,{"aria-label":"pagination",onClick:function(){return t(n)},children:n},n)}))})}))),vn=x.a.div(Q||(Q=Object(s.a)(["\n  position: absolute;\n  top: 300px;\n  width: 40%;\n  border-radius: 10px;\n  background-color: #f8d7da;\n  border-color: #f5c6cb;\n  left: 0;\n  right: 0;\n  margin: 0 auto;\n  text-align: center;\n  padding: 5px 10px;\n\n  @media "," {\n    width: unset;\n  }\n\n  @,edoa "," {\n    width: unset;\n    top: 330px;\n  }\n"])),b,p),kn=x.a.span($||($=Object(s.a)(["\n  cursor: pointer;\n  float: right;\n"]))),Tn=Object(m.b)((function(n){return{errorMsg:n.errorMsg}}),(function(n){return{setError:function(e){return n(U(e))}}}))((function(n){var e=n.errorMsg,t=n.setError;return Object(un.jsxs)(vn,{role:"error-message","aria-label":"error-message",children:[Object(un.jsx)("span",{children:e}),Object(un.jsx)(kn,{onClick:function(){return t(!1)},children:"X"})]})})),An=x.a.div(nn||(nn=Object(s.a)(["\n  position: absolute;\n  top: 0;\n  min-height: 50%;\n  width: 100%;\n  background-image: url(",");\n  background-position: center;\n  background-size: 100% 100%;\n  background-repeat: no-repeat;\n  background-attachment: scroll;\n  z-index: -1;\n\n  @media "," {\n    min-height: 38%;\n  }\n\n  @media "," {\n    min-height: 42%;\n  }\n\n  @media "," {\n    min-height: 25%;\n  }\n\n  @media "," {\n    min-height: 95%;\n  }\n\n  @media "," {\n    min-height: 47%;\n  }\n\n  @media "," {\n    min-height: 56%;\n  }\n"])),(function(n){return n.nyt2}),g,j,h,f,b,p),Rn=x.a.div(en||(en=Object(s.a)(["\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  margin-top: 170px;\n  color: white;\n\n  @media "," {\n    font-size: 12px;\n    margin-top: 120px;\n    padding: 0 10px;\n    text-align: center;\n  }\n"])),b),Sn=x.a.div(tn||(tn=Object(s.a)(["\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  @media "," {\n    flex-wrap: wrap;\n  }\n"])),b),Cn=x.a.input.attrs({type:"text",placeholder:"Search news by keyword"})(rn||(rn=Object(s.a)(["\n  width: 30%;\n  height: 30px;\n  padding-left: 10px;\n  margin-left: 5px;\n  outline: none;\n  border-top-left-radius: 15px;\n  border-bottom-left-radius: 15px;\n  border: 1px solid #213fb9;\n\n  @media "," {\n    flex-basis: 70%;\n  }\n"])),b),Mn=x.a.button(an||(an=Object(s.a)(["\n  padding: 2px 15px;\n  cursor: pointer;\n  background-color: white;\n  outline: none;\n  border: 1px solid #213fb9;\n  ",";\n  transition: background 0.2s ease-out;\n\n  &:hover {\n    background-color: #213fb9;\n  }\n\n  @media "," {\n    flex-basis: ",";\n    ",";\n    ",";\n    \n}  \n  }\n"])),(function(n){return n.getTop&&"height: 36px; border-radius: 15px;"}),b,(function(n){return n.getTop?"85%":"10%"}),(function(n){return n.getTop&&"margin-bottom: 4px; "}),(function(n){return!n.getTop&&"border-top-right-radius: 15px;\n    border-bottom-right-radius: 15px;"})),Nn=x.a.span(cn||(cn=Object(s.a)(["\n  color: ",";\n  transition: color 0.2s ease-out;\n"])),(function(n){return n.enter?"white":"#213fb9"})),_n=Object(m.b)((function(n){return{articles:n.articles,searchArticles:n.searchArticles,submitEnter:n.submitEnter,buttonEnter:n.buttonEnter,currentPage:n.currentPage,currentArticles:n.currentArticles,loading:n.loading,topNews:n.topNews,submit:n.submit,keyword:n.keyword,snippet:n.snippet,placeHolder:n.placeHolder,error:n.error}}),(function(n){return{getData:function(){return n(function(){var n=Object(o.a)(c.a.mark((function n(e){return c.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,y.a.get("https://api.nytimes.com/svc/mostpopular/v2/viewed/30.json?api-key=LnFPt84z7OUmVRWwgcMtZJcUR0nTrKTl").then((function(n){e({type:"ARTICLE_DATA",payload:n.data.results})})).catch((function(n){console.error(n)}));case 2:return n.abrupt("return",n.sent);case 3:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}())},getSearchData:function(e){return n(function(n){return function(){var e=Object(o.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.a.get("https://api.nytimes.com/svc/search/v2/articlesearch.json?q="+n+"&api-key=LnFPt84z7OUmVRWwgcMtZJcUR0nTrKTl").then((function(n){t({type:"SEARCH_ARTICLE_DATA",payload:n.data.response.docs})})).catch((function(n){console.error(n)}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()}(e))},setSubmitEnter:function(e){return n(function(n){return{type:v,payload:n}}(e))},setButtonEnter:function(e){return n(function(n){return{type:k,payload:n}}(e))},setCurrentArticles:function(e){return n(function(n){return{type:A,payload:n}}(e))},setCurrentPage:function(e){return n(L(e))},setLoading:function(e){return n(function(n){return{type:R,payload:n}}(e))},setTopNews:function(e){return n(D(e))},setSubmit:function(e){return n(function(n){return{type:C,payload:n}}(e))},setKeyword:function(e){return n(function(n){return{type:M,payload:n}}(e))},setSnippet:function(e){return n(function(n){return{type:N,payload:n}}(e))},setErrorMsg:function(e){return n(I(e))},setError:function(e){return n(U(e))}}}))((function(n){var e=n.articles,t=n.submitEnter,a=n.buttonEnter,i=n.currentPage,s=n.loading,u=n.keyword,p=n.snippet,b=(n.errorMsg,n.error),f=n.getData,h=n.getSearchData,j=n.setSubmitEnter,g=n.setButtonEnter,x=n.setCurrentArticles,m=n.setLoading,O=n.setSubmit,y=n.setKeyword,w=n.setSnippet,E=n.setCurrentPage,v=n.setErrorMsg,k=n.setError,T=function(n){var e=4*n;return[e-4,e]},A=function(){var n=Object(o.a)(c.a.mark((function n(){var t;return c.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t=T(i),m(!0),n.next=4,E(1);case 4:return n.next=6,O(!1);case 6:return n.next=8,f();case 8:e&&x(e.slice(t[0],t[1])),D(!0),w(!1),m(!1);case 12:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();Object(r.useEffect)((function(){var n=T(i);f(),e.slice(0,4)&&x(e.slice(n[0],n[1]))}),[]),Object(r.useEffect)((function(){var n=T(i);e&&x(e.slice(n[0],n[1]))}),[i,e]);var R=function(){var n=Object(o.a)(c.a.mark((function n(e){return c.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(e.preventDefault(),""===u.replace(/['"]+/g,"").trim()){n.next=16;break}return m(!0),n.next=6,E(1);case 6:return n.next=8,O(!0);case 8:return n.next=10,h(u);case 10:k(!1),y(""),w(!1),m(!1),n.next=19;break;case 16:k(!0),v("Keyword should not be empty"),y("");case 19:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}();return Object(un.jsxs)("div",{children:[Object(un.jsx)(An,{"aria-label":"background-image",role:"background-image",nyt2:d}),b&&Object(un.jsx)(Tn,{}),Object(un.jsx)(Rn,{role:"app-title","aria-label":"app-title",children:Object(un.jsx)("h1",{children:"Search most popular articles in New York Times"})}),Object(un.jsx)("form",{role:"search",method:"get",onSubmit:function(n){return R(n)},children:Object(un.jsxs)(Sn,{role:"search-container",children:[Object(un.jsx)(Mn,{role:"button","aria-label":"api-call-button",type:"button",getTop:!0,onMouseEnter:function(){return g(!0)},onMouseLeave:function(){return g(!1)},children:Object(un.jsx)(Nn,{role:"button-name","aria-label":"button-name",onClick:function(){return A()},enter:a,children:"Get top 20 articles"})}),Object(un.jsx)(Cn,{role:"search-bar","aria-label":"search-bar",onChange:function(n){var e=n.target.value;e.length<=40?y(e):(k(!0),v("Keyword should be less than 40 characters"))},value:u,error:b}),Object(un.jsx)(Mn,{role:"submit","aria-label":"submit",type:"submit",onMouseEnter:function(){return j(!0)},onMouseLeave:function(){return j(!1)},children:Object(un.jsx)(l.a,{className:t?"icon-color-hover":"icon-color"})})]})}),!s&&Object(un.jsx)(On,{}),!s&&!p&&Object(un.jsx)(En,{})]})})),Pn=function(n){n&&n instanceof Function&&t.e(3).then(t.bind(null,86)).then((function(e){var t=e.getCLS,r=e.getFID,a=e.getFCP,i=e.getLCP,c=e.getTTFB;t(n),r(n),a(n),i(n),c(n)}))},Ln=t(15),Dn=t(3),In={submitEnter:!1,buttonEnter:!1,currentPage:1,currentArticles:[],loading:!1,topNews:!1,submit:!1,keyword:"",articles:[],snippet:!0,errorMsg:"",error:!1},Un=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:In,e=arguments.length>1?arguments[1]:void 0;return e.type===w||e.type===E?Object(Dn.a)(Object(Dn.a)({},n),{},{articles:Object.assign([],e.payload)}):e.type===k?Object(Dn.a)(Object(Dn.a)({},n),{},{buttonEnter:e.payload}):e.type===A?Object(Dn.a)(Object(Dn.a)({},n),{},{currentArticles:e.payload}):e.type===T?Object(Dn.a)(Object(Dn.a)({},n),{},{currentPage:e.payload}):e.type===M?Object(Dn.a)(Object(Dn.a)({},n),{},{keyword:e.payload}):e.type===R?Object(Dn.a)(Object(Dn.a)({},n),{},{loading:e.payload}):e.type===C?Object(Dn.a)(Object(Dn.a)({},n),{},{submit:e.payload}):e.type===v?Object(Dn.a)(Object(Dn.a)({},n),{},{submitEnter:e.payload}):e.type===S?Object(Dn.a)(Object(Dn.a)({},n),{},{topNews:e.payload}):e.type===N?Object(Dn.a)(Object(Dn.a)({},n),{},{snippet:e.payload}):e.type===_?Object(Dn.a)(Object(Dn.a)({},n),{},{errorMsg:e.payload}):e.type===P?Object(Dn.a)(Object(Dn.a)({},n),{},{error:e.payload}):n};var Bn=t(39),Fn=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||Ln.c,Kn=Object(Ln.d)(Un,Fn(Object(Ln.a)(Bn.a)));t(72);Object(a.render)(Object(un.jsx)(m.a,{store:Kn,children:Object(un.jsx)(_n,{})}),document.getElementById("root")),Pn()}},[[74,1,2]]]);
//# sourceMappingURL=main.aeb308f2.chunk.js.map